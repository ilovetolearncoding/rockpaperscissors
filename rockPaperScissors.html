<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
</head>
<body>

    <h1>THE ROCK PAPER SCISSORS GAME</h1>
    <h2>Score 5 Points To Win The Game</h2>
    <h1>User Score:  <span class="u-score">0</span>  Vs  <span class="c-score">0</span>  :Computer Score</h1>
    <h3>Make Your Choice Below</h3>
    <p><h1 id="message"></h1></p>
    <button class="button" id="rock">Rock</button>
    <button class="button" id="paper">Paper</button>
    <button class="button" id="scissors">Scissors</button>
    <button class="reset-button" id="reset">Reset</button>

    <script>

        let userScore = 0;
        let computerScore = 0;

        let buttons = document.querySelectorAll(".button");
        buttons.forEach ((button) => {
            button.addEventListener("click",() => {
                let userChoice = button.textContent;
                let options = ["Rock", "Paper", "Scissors"];
                let computerChoice = options[Math.floor(Math.random() *3)];
                compareChoices(userChoice,computerChoice);
                updateScoreboard(userScore, computerScore);
                if (updateWinner(userScore, computerScore)){
                    userScore = computerScore = 0;
                    updateScoreboard(userScore, computerScore);
                };
                


            });           
                        
        } );

        function compareChoices(userChoice, computerChoice) {
                if (userChoice === computerChoice){
                    document.querySelector("#message").textContent = "It is a tie!";
                   
                }
                else if ((userChoice === "Rock" && computerChoice === "Scissors") 
                || (userChoice === "Scissors" && computerChoice === "Paper")
                || (userChoice === "Paper" && computerChoice === "Rock"))
                {
                    document.querySelector("#message").textContent = "You scored a point!";
                    userScore++;
            
                }
                else {
                    document.querySelector("#message").textContent = "The computer scored a point!";
                    computerScore++;
                } 
            }

        function updateScoreboard(userScore, computerScore) {
            document.querySelector(".u-score").textContent = userScore;
            document.querySelector(".c-score").textContent = computerScore;
        }

        function updateWinner () {
            if (userScore === 5 || computerScore === 5) {
                let winner = userScore === 5 ? "Congratulations! You won the game." : "So sorry you lost! The Computer won the game.";
                document.querySelector("#message").textContent = winner;
                return true;
                               
            }
            else {
                return false;
            }
           
            
        }        

            let resetButton = document.querySelector('#reset');
            resetButton.addEventListener('click', resetScores);
            
            function resetScores() {
                userScore = 0;
                computerScore = 0;
                updateScoreboard(userScore, computerScore);
                document.querySelector("#message").textContent = "";
            }            

    </script>
    
</body>
</html>